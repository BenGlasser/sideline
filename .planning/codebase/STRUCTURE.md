# Codebase Structure

**Analysis Date:** 2026-02-22

## Directory Layout

```
sideline/
├── src/                    # Application source code
│   ├── App.jsx            # Main app component with all views and logic
│   ├── main.jsx           # React bootstrap entry point
│   └── assets/            # Static assets
│       └── react.svg      # Unused React logo
├── public/                # Static files served directly
│   └── vite.svg           # Unused Vite logo
├── index.html             # HTML entry point
├── package.json           # Project dependencies and scripts
├── vite.config.js         # Vite build configuration
├── eslint.config.js       # ESLint rules configuration
├── .vercel/               # Vercel deployment config
├── .planning/             # GSD planning documents
│   └── codebase/          # Architecture analysis documents
├── .gitignore             # Git exclusions
└── CLAUDE.md              # Project information
```

## Directory Purposes

**src/:**
- Purpose: All application source code
- Contains: React components, business logic, entry points
- Key files: `App.jsx` (monolithic main component), `main.jsx` (bootstrap)

**src/assets/:**
- Purpose: Static image assets imported in JSX
- Contains: SVG files (currently unused)
- Note: Only `react.svg` present; `vite.svg` not imported

**public/:**
- Purpose: Static files served directly without bundling
- Contains: `vite.svg` (unused)
- Note: Files in this directory are not processed by Vite, served as-is

**.planning/codebase/:**
- Purpose: GSD codebase analysis documentation
- Contains: ARCHITECTURE.md, STRUCTURE.md, and other generated analyses
- Note: Generated by mapping commands, not manually edited

**.vercel/:**
- Purpose: Vercel deployment configuration
- Contains: Deployment settings and build configuration

## Key File Locations

**Entry Points:**
- `index.html`: HTML entry point, defines root div and script module
- `src/main.jsx`: React application bootstrap, mounts App to DOM
- `src/App.jsx`: Main React component with all state management and view logic

**Configuration:**
- `package.json`: NPM scripts (dev, build, lint, preview), dependencies, project metadata
- `vite.config.js`: Vite build tool configuration with React plugin
- `eslint.config.js`: ESLint linting rules for code quality

**Core Logic:**
- `src/App.jsx`: Single monolithic file containing all application logic:
  - State initialization (players, sessions, activeSession, view, selections, etc.)
  - localStorage persistence hooks
  - Session lifecycle functions (startSession, endSession, resumeSession)
  - Data transformation functions (getPlayerTotal, getPlayerCategoryTotal, getGroupForCategory)
  - CSV export functions (exportSessionCSV, exportAllCSV, downloadCSV)
  - Event handlers (recordMark, undoLast, updateNotes, deleteSession, etc.)
  - All five view components (home, tracking, review, history, settings)
  - Global styles object

**Testing:**
- No test files present

## Naming Conventions

**Files:**
- `.jsx`: JSX React components and modules
- `.js`: Configuration files (vite.config.js, eslint.config.js)
- `.html`: HTML entry point (index.html)
- `.json`: Manifest files (package.json, package-lock.json)

**Components:**
- `App`: Main export capitalized (React component convention)
- Views within App: Identified by view state string (e.g., view === "home")

**Variables:**
- camelCase: All local variables, state setters, and functions
- UPPERCASE: Constants like CATEGORIES, ALL_CATEGORIES
- Prefixed getters: `getPlayerTotal()`, `getPlayerCategoryTotal()`, `getGroupForCategory()`
- Prefixed actions: `startSession()`, `recordMark()`, `endSession()`, etc.

**State:**
- Past tense for data: `players`, `sessions`, `activeSession`
- Present tense for UI state: `view`, `selectedPlayer`, `detailSession`, `editingPlayerIndex`
- Event names in camelCase: `showToast()`, `resumeSession()`, `undoLast()`

**Styles:**
- styles object keys in camelCase matching CSS property names (e.g., `minHeight`, `borderRadius`)
- Color palette values: Hex colors for Tailwind-inspired slate, green, red, amber theme

## Where to Add New Code

**New Feature:**
- Primary code: `src/App.jsx` (add state, handlers, and view conditional)
- Tests: Create `src/App.test.jsx` (no tests currently present)

**New Component/Module:**
- Implementation: `src/[FeatureName].jsx` (extract from App.jsx if needed)
- Recommendation: Extract large views into separate components; currently all in App.jsx

**Utilities:**
- Shared helpers: `src/utils/` directory (does not currently exist; create if needed)
- localStorage helpers: Currently in App.jsx lines 12-13; could move to `src/utils/storage.js`
- CSV export helpers: Currently in App.jsx lines 121-131; could move to `src/utils/export.js`

**Styling:**
- Inline styles: Define in `styles` object at bottom of component file
- No global CSS: All styling via inline style objects
- Responsive breakpoints: maxWidth: 480px on container for mobile

## Special Directories

**node_modules/:**
- Purpose: Installed npm dependencies (React, Vite, ESLint, etc.)
- Generated: Yes (via npm install)
- Committed: No (in .gitignore)

**.git/:**
- Purpose: Git version control metadata
- Generated: Yes (git init)
- Committed: N/A (special directory)

**.next/ (if applicable):**
- Purpose: Next.js build artifacts (Vite is used instead)
- Generated: Not applicable (Vite not Next.js)
- Committed: No

**dist/:**
- Purpose: Production build output (created by `npm run build`)
- Generated: Yes (by Vite)
- Committed: No (in .gitignore)

## Import Paths

**Current Pattern:**
- Relative imports: `import App from './App.jsx'` (main.jsx to App)
- No path aliases configured in vite.config.js
- No absolute imports configured

**Recommendation for New Code:**
- Use relative imports for same-directory files
- Use path aliases if extracting utilities (configure in vite.config.js)

---

*Structure analysis: 2026-02-22*
